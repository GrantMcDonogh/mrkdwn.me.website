---
import Section from "./Section.astro";

const steps = [
  {
    number: "1",
    title: "Sign Up",
    description: "Create your free account in seconds. No credit card required.",
    icon: `<path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/>`,
  },
  {
    number: "2",
    title: "Create or Import",
    description: "Start a new vault from scratch or import your existing Obsidian vault with one click.",
    icon: `<path d="M12 3v12"/><path d="m8 11 4 4 4-4"/><path d="M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4"/>`,
  },
  {
    number: "3",
    title: "Write & Connect",
    description: "Write notes, link ideas with wiki links, and let AI help you discover insights across your knowledge.",
    icon: `<path d="M12 20h9"/><path d="M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"/>`,
  },
];
---

<Section id="how-it-works">
  <div class="text-center mb-16 reveal">
    <h2 class="text-3xl md:text-4xl font-bold text-body">
      Get started in <span class="text-accent">three simple steps</span>
    </h2>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-4 relative">
    <!-- Connecting line (desktop only) -->
    <div class="hidden md:block absolute top-12 left-[20%] right-[20%] h-px bg-edge"></div>

    {steps.map((step, i) => (
      <div class:list={["flex flex-col items-center text-center reveal", `reveal-delay-${i + 1}`]}>
        <!-- Number badge -->
        <div class="relative z-10 w-14 h-14 rounded-full bg-accent text-white flex items-center justify-center text-xl font-bold mb-6 shadow-lg shadow-accent/20">
          {step.number}
        </div>

        <!-- Icon -->
        <div class="w-10 h-10 rounded-lg flex items-center justify-center mb-4" style="background-color: var(--bg-secondary);">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="text-accent"
            set:html={step.icon}
          />
        </div>

        <!-- Text -->
        <h3 class="text-xl font-semibold text-body mb-2">{step.title}</h3>
        <p class="text-sm text-muted max-w-xs leading-relaxed">{step.description}</p>
      </div>
    ))}
  </div>
</Section>
